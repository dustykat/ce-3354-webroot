
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>NRCS CN model &#8212; Engineering Hydrology</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lessons/lesson06/CNmethod';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Nonlinear Reservoir Model" href="nonlinreservoir.html" />
    <link rel="prev" title="Linear Reservoir Model" href="linearreservoir.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/hydrology.png" class="logo__image only-light" alt="Engineering Hydrology - Home"/>
    <script>document.write(`<img src="../../_static/hydrology.png" class="logo__image only-dark" alt="Engineering Hydrology - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Engineering Hydrology
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../lesson01/lesson01.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson02/lesson02.html">Hydrologic Cycle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson03/lesson03.html">Watersheds</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../lesson04/lesson04.html">Precipitation Data Modeling</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../lesson04/precipitation.html">Precipitation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lesson04/designstorms.html">Design Storms</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson05/lesson05.html">06. Streamflow Data Modeling</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="lesson06.html">Hydrologic Process Modeling</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="rationalmethod.html">Rational Equation (Rainfall-Runoff) Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="linearreservoir.html">Linear Reservoir Model</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">NRCS CN model</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinreservoir.html">Nonlinear Reservoir Model</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson06.1/HMSintro.html">HEC-HMS Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson07/lesson07.html">Evaporation Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson08/lesson08.html">Infiltration Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson08.1/lesson081.html">On-Watershed Storage Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson09/lesson09.html">Unit Hydrographs - I (Analysis)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson10/lesson10.html">Unit Hydrographs - II (Synthesis)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson11/lesson11.html">Hydrograph Routing - I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson12/lesson12.html">Hydrograph Routing - II</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson13/lesson13.html">Reservoir-Storage Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lesson14/lesson14.html">Reservoir Outlet Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groundwater/groundwater1.html">Groundwater Hydrology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groundwater/groundwater2.html">Groundwater Hydrology - II</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groundwater/groundwater3.html">Steady Groundwater Flow to Wells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groundwater/groundwater4.html">Transient Flow to Wells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groundwater/groundwater5.html">Constituient Transport</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workshops/workshop3.html">Workshop #3</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Flessons/lesson06/CNmethod.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/lessons/lesson06/CNmethod.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>NRCS CN model</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cn-as-a-linear-reservoir-model">CN as a linear reservoir model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hec-hms-introduction">HEC-HMS Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hec-hms-project">HEC-HMS Project</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hec-hms-minimal-model">HEC-HMS Minimal Model</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#basin-model-specification">Basin Model Specification</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#meterological-model-specification">Meterological Model Specification</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#control-model-specification">Control Model Specification</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#parameterizing-the-models">Parameterizing the models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="nrcs-cn-model">
<h1>NRCS CN model<a class="headerlink" href="#nrcs-cn-model" title="Link to this heading">#</a></h1>
<p>The CN method is in common use and is examined here.
The curve number approach is based on a volume balance.
The derivation is in the National Engineering Handbook Chapter 10.</p>
<p>The curve number is a solution to:</p>
<div class="math notranslate nohighlight">
\[ 
Q = \frac{(P-0.2S)^2}{P+0.8S}
\]</div>
<p>where <span class="math notranslate nohighlight">\(Q\)</span> is the cumulative runoff (integral of the hydrograph) in watershed depth (i.e. Discharge/Area), P is the cumulative rainfall (integral of the hyetograph). Drainage area is used to make units consistent; either divide Q by area to get a depth, or multiply P by area to get volume). S is the retention (like a storage term).</p>
<p>The curve number, <span class="math notranslate nohighlight">\(CN\)</span>, is simply a transformation of <span class="math notranslate nohighlight">\(S\)</span></p>
<div class="math notranslate nohighlight">
\[CN = \frac{1000}{S+10}\]</div>
<p>The <span class="math notranslate nohighlight">\(CN\)</span> values for a large number of land coverages (hydrologic soil complex coverage number; or runoff curve number) were tabulated by the NRCS many years ago.
It is of note that the method was intended for agricultural use.</p>
<p>Equations similar in structure to the NRCS equations above can be constructed by assuming the watershed operates as a linear reservoir and such an analysis provides some understanding of <span class="math notranslate nohighlight">\(CN\)</span> (as other than just a tabulation). When viewed in such a fashion the <span class="math notranslate nohighlight">\(CN\)</span> is like a response or residence time parameter (<span class="math notranslate nohighlight">\(\alpha\)</span> in our linear reservoir model above) and represents how long in dimensionless time it takes the watershed to reach an equilibrium storage condition where the precipitation that enters leaves.
Large values (90+) are “fast” responding watersheds, small values (50-ish) are “slow” responding watersheds.</p>
<p>The figure below is the typical graphical representation from NRCS sources.</p>
<p><img alt="" src="../../_images/CNchart.png" /></p>
<p>Now lets demonstrate that structurally the <span class="math notranslate nohighlight">\(CN\)</span> model is explainable as a particular interpretation of a linear reservoir model.</p>
<p>Start with linear reservoir model, but include some abstractions.  Show in cumulative space to get CN-type model.</p>
<section id="cn-as-a-linear-reservoir-model">
<h2>CN as a linear reservoir model<a class="headerlink" href="#cn-as-a-linear-reservoir-model" title="Link to this heading">#</a></h2>
<p>Assume a watershed can be represented as a linear reservoir, where the discharge is proportional to accumulated storage.
Using the <span class="math notranslate nohighlight">\(CN\)</span> variable names and definitions it is possible to construct a discharge function that is a decaying exponential.
The decay rate conveys similar information as the curve number, that is it relates how much cumulative precipitation must occur before the retention is satisfied and the ratio of actual to potential retention becomes one.</p>
<p>First the variable names associated with the Figure below and their definitions from chapter 10, NEH.</p>
<p><img alt="" src="../../_images/CNReservoir.png" /></p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(I_a\)</span> is the initial abstraction - it represents input rainfall that never appears as runoff and is removed at the beginning of an event.</p></li>
<li><p><span class="math notranslate nohighlight">\(F_a\)</span> is the watershed retention - it represents the depth of water retained on the watershed after runoff begins.  In our previous model it plays the same role as <span class="math notranslate nohighlight">\(\bar h\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(S\)</span> is the potential watershed retention after runoff begins - it represents the maximum possible depth of of water retained on the watershed if the rain goes on forever.</p></li>
<li><p><span class="math notranslate nohighlight">\(Q\)</span> is the actual runoff depth.</p></li>
<li><p><span class="math notranslate nohighlight">\(P\)</span> is the actual rainfall depth.</p></li>
</ul>
<p>The figure above is a sketch of a watershed as a reservoir.
The area is <span class="math notranslate nohighlight">\(A\)</span>, precipitation rate is <span class="math notranslate nohighlight">\(i\)</span>, the initial abstraction is <span class="math notranslate nohighlight">\(I_a\)</span> and the actual retention (accumulated depth on the watershed in excess of <span class="math notranslate nohighlight">\(I_a\)</span>) is <span class="math notranslate nohighlight">\(F_a\)</span>.
The discharge in volume units is <span class="math notranslate nohighlight">\(qA\)</span>.
If one writes a mass balance on the watershed in terms of <span class="math notranslate nohighlight">\(F_a\)</span>, <strong>ASSUMING</strong> the initial abstraction is already satisfied (as in the NRCS definition of <span class="math notranslate nohighlight">\(F_a\)</span> above), then the resulting equation is</p>
<div class="math notranslate nohighlight">
\[A~\frac{d F_a}{dt} = A(i -q) \]</div>
<p>Normalizing by the constant watershed area</p>
<div class="math notranslate nohighlight">
\[~\frac{d F_a}{dt} = (i -q) \]</div>
<p>The units of precipitation and discharge are now <span class="math notranslate nohighlight">\(\frac{L}{T}\)</span> (depth per unit time).
The units of <strong>accumulated</strong> depth are length (thus the time derivative is L/T). If we <strong>ASSUME</strong> a linear response, that is the specific discharge is proportional to accumulated depth (<span class="math notranslate nohighlight">\(F_a\)</span>) we can postulate a model for the discharge as</p>
<div class="math notranslate nohighlight">
\[q = \frac{1}{\alpha}F_a \]</div>
<p>The term <span class="math notranslate nohighlight">\(\alpha\)</span> is some non-zero constant that reflects the discharge from the watershed as some proportion of accumulated depth.</p>
<p>Now substitute into the mass balance and solve for <span class="math notranslate nohighlight">\(F_a\)</span> and <strong>ASSUME</strong> that precipitation rate is a constant value one can arrive at:</p>
<div class="math notranslate nohighlight">
\[q = \frac{1}{\alpha}F_a = i(1-e^{-\frac{t}{\alpha}})\]</div>
<p>In this formula time begins when <span class="math notranslate nohighlight">\(I_a\)</span> is satisfied.</p>
<p>Now examine the definitions of <span class="math notranslate nohighlight">\(P\)</span> and <span class="math notranslate nohighlight">\(Q\)</span> (or <span class="math notranslate nohighlight">\(P_e\)</span>) in the NRCS documents. By defintion:</p>
<div class="math notranslate nohighlight">
\[Q = \int_{lb}^{ub}q(\tau)d\tau = it+i \alpha  e^{-\frac{t}{\alpha}} -i \alpha\]</div>
<div class="math notranslate nohighlight">
\[P = it + I_a + F_a\]</div>
<p>Now construct a plot (simulation) that plots <span class="math notranslate nohighlight">\(Q\)</span> versus <span class="math notranslate nohighlight">\(P\)</span> for different values of alpha (plus an equal value line) we have</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># structural simulation need units for practical applications</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="n">howmany</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">#watershed discharge conversion constant</span>
<span class="n">peein</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">abstraction</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">retention</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">maxretention</span> <span class="o">=</span> <span class="mf">1.0</span>

<span class="k">def</span> <span class="nf">qfunc</span><span class="p">(</span><span class="n">inflow</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">alpha</span><span class="p">):</span>
    <span class="n">qfunc</span> <span class="o">=</span> <span class="n">inflow</span><span class="o">*</span><span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">time</span><span class="o">/</span><span class="n">alpha</span><span class="p">))</span>
    <span class="k">return</span><span class="p">(</span><span class="n">qfunc</span><span class="p">)</span>

<span class="n">qnow</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">howmany</span><span class="p">)]</span>
<span class="n">pnow</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">howmany</span><span class="p">)]</span>
<span class="n">rnow</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">howmany</span><span class="p">)]</span>
<span class="n">time</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">howmany</span><span class="p">)]</span>
<span class="n">deltat</span> <span class="o">=</span> <span class="mf">0.01</span> <span class="c1"># time step value</span>
<span class="c1"># time zero values</span>
<span class="n">qnow</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">peein</span><span class="o">*</span><span class="n">time</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">peein</span><span class="o">*</span><span class="n">alpha</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">time</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">alpha</span><span class="p">)</span><span class="o">-</span><span class="n">peein</span><span class="o">*</span><span class="n">alpha</span>
<span class="k">for</span> <span class="n">itime</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">howmany</span><span class="p">):</span>
    <span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span> <span class="o">=</span> <span class="n">deltat</span><span class="o">+</span><span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">qnow</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">=</span><span class="n">peein</span><span class="o">*</span><span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">+</span><span class="n">peein</span><span class="o">*</span><span class="n">alpha</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">/</span><span class="n">alpha</span><span class="p">)</span><span class="o">-</span><span class="n">peein</span><span class="o">*</span><span class="n">alpha</span>
    <span class="n">rnow</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">=</span><span class="n">alpha</span><span class="o">*</span><span class="n">qfunc</span><span class="p">(</span><span class="n">peein</span><span class="p">,</span><span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="p">],</span><span class="n">alpha</span><span class="p">)</span>
    <span class="n">pnow</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">=</span><span class="n">peein</span><span class="o">*</span><span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">+</span><span class="n">abstraction</span><span class="o">+</span><span class="n">rnow</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span>



<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="c1"># the python plotting library</span>
<span class="n">myfigure</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span> <span class="c1"># generate a object from the figure class, set aspect ratio</span>

<span class="c1"># Built the plot</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pnow</span><span class="p">,</span> <span class="n">pnow</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span> 
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pnow</span><span class="p">,</span> <span class="n">qnow</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> 
<span class="c1">#matplotlib.pyplot.plot(time, dsnow, color =&#39;green&#39;) </span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Cumulative Precipitation L&quot;</span><span class="p">)</span> 
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Cumulative Runoff L&quot;</span><span class="p">)</span> 
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Linear Reservoir Runoff Model </span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">+</span><span class="s2">&quot;Max Retention =&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">maxretention</span><span class="p">)</span><span class="o">+</span>
                        <span class="s2">&quot; Initial Abstraction =&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">abstraction</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;Precipitation Rate =&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">peein</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot; alpha =&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span> <span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s2">&quot;alpha &lt; 0.001&quot;</span><span class="p">,</span><span class="s2">&quot;alpha = &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">alpha</span><span class="p">),</span><span class="s2">&quot;Delta Storage&quot;</span><span class="p">])</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/1ec108e17c6aaafa43fac0e244be6e2fc7c0d89eeef98949f9005bb85dc52a86.png" src="../../_images/1ec108e17c6aaafa43fac0e244be6e2fc7c0d89eeef98949f9005bb85dc52a86.png" />
</div>
</div>
<p>Now if we compare the appearance of the simulation figure to the NRCS chart we can observe that the charts convey the same kinds of curves, specifically the amount of precipitation accumulation required to produce constant runoff, as well as the conversion ratio between observed cumulative precipitation and observed cumulative runoff. In the case of the linear-reservoir model, the information is conveyed by the parameter <span class="math notranslate nohighlight">\(\alpha\)</span> which dimensionally is a residence time, while the curve number <span class="math notranslate nohighlight">\(CN\)</span> plays a similar role in the NRCS methodology.</p>
<p>A bit more examination and we can conclude:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(\alpha = \frac{100-CN}{10}\)</span> will generate identical looking curves to the NRCS charts</p></li>
<li><p><span class="math notranslate nohighlight">\(i\alpha = S\)</span> thus the product of the residence time and intensity is the maximum potential retention.</p></li>
<li><p>Runoff starts (in the time domain) at <span class="math notranslate nohighlight">\(t_r = I_a = \frac{\alpha}{5}\)</span></p></li>
</ol>
<p>So lets modify the script to reflect this conjecture</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># structural simulation need units for practical applications</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="n">howmany</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">CN</span> <span class="o">=</span> <span class="mi">90</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="o">-</span><span class="n">CN</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span> <span class="c1">#watershed discharge conversion constant</span>
<span class="n">peein</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">abstraction</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">retention</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">maxretention</span> <span class="o">=</span> <span class="mf">1.0</span>

<span class="k">def</span> <span class="nf">qfunc</span><span class="p">(</span><span class="n">inflow</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">alpha</span><span class="p">):</span>
    <span class="n">qfunc</span> <span class="o">=</span> <span class="n">inflow</span><span class="o">*</span><span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">time</span><span class="o">/</span><span class="n">alpha</span><span class="p">))</span>
    <span class="k">return</span><span class="p">(</span><span class="n">qfunc</span><span class="p">)</span>

<span class="n">qnow</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">howmany</span><span class="p">)]</span>
<span class="n">pnow</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">howmany</span><span class="p">)]</span>
<span class="n">rnow</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">howmany</span><span class="p">)]</span>
<span class="n">time</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">howmany</span><span class="p">)]</span>
<span class="n">deltat</span> <span class="o">=</span> <span class="mf">0.01</span> <span class="c1"># time step value</span>
<span class="c1"># time zero values</span>
<span class="n">qnow</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">peein</span><span class="o">*</span><span class="n">time</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">peein</span><span class="o">*</span><span class="n">alpha</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">time</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">alpha</span><span class="p">)</span><span class="o">-</span><span class="n">peein</span><span class="o">*</span><span class="n">alpha</span>
<span class="k">for</span> <span class="n">itime</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">howmany</span><span class="p">):</span>
    <span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span> <span class="o">=</span> <span class="n">deltat</span><span class="o">+</span><span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">qnow</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">=</span><span class="n">peein</span><span class="o">*</span><span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">+</span><span class="n">peein</span><span class="o">*</span><span class="n">alpha</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">/</span><span class="n">alpha</span><span class="p">)</span><span class="o">-</span><span class="n">peein</span><span class="o">*</span><span class="n">alpha</span>
    <span class="n">rnow</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">=</span><span class="n">alpha</span><span class="o">*</span><span class="n">qfunc</span><span class="p">(</span><span class="n">peein</span><span class="p">,</span><span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="p">],</span><span class="n">alpha</span><span class="p">)</span>
    <span class="n">pnow</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">=</span><span class="n">peein</span><span class="o">*</span><span class="n">time</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span><span class="o">+</span><span class="n">abstraction</span><span class="o">+</span><span class="n">rnow</span><span class="p">[</span><span class="n">itime</span><span class="p">]</span>



<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="c1"># the python plotting library</span>
<span class="n">myfigure</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span> <span class="c1"># generate a object from the figure class, set aspect ratio</span>

<span class="c1"># Built the plot</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pnow</span><span class="p">,</span> <span class="n">pnow</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span> 
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pnow</span><span class="p">,</span> <span class="n">qnow</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> 
<span class="c1">#matplotlib.pyplot.plot(time, dsnow, color =&#39;green&#39;) </span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Cumulative Precipitation L&quot;</span><span class="p">)</span> 
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Cumulative Runoff L&quot;</span><span class="p">)</span> 
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Linear Reservoir Runoff Model </span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">+</span><span class="s2">&quot;Max Retention =&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">maxretention</span><span class="p">)</span><span class="o">+</span>
                        <span class="s2">&quot; Initial Abstraction =&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">abstraction</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;Precipitation Rate =&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">peein</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot; alpha =&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span> <span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s2">&quot;CN = 100&quot;</span><span class="p">,</span><span class="s2">&quot;CN = &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">CN</span><span class="p">),</span><span class="s2">&quot;Delta Storage&quot;</span><span class="p">])</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/c0e643842813e3fd698344fc8198380be8a3d51bc929dc2d3c0afcd743f75305.png" src="../../_images/c0e643842813e3fd698344fc8198380be8a3d51bc929dc2d3c0afcd743f75305.png" />
</div>
</div>
<p>so in practice we don’t use the <span class="math notranslate nohighlight">\(CN\)</span> model as a linear reservoir. It is strictly treated as a runoff generation procedure - its useful and practical, but is built on limited assumptions.</p>
<p>The <span class="math notranslate nohighlight">\(CN\)</span> values are tabulated in many locations including:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://websoilsurvey.sc.egov.usda.gov/App/HomePage.htm">WSS</a>  After an AOI is delineated, the soils property tab will return CN values associated with each soil texture.</p></li>
<li><p><a class="reference external" href="https://directives.sc.egov.usda.gov/OpenNonWebContent.aspx?content=17758.wba">NEH Chapter 9</a> Tables of CN for different soil textures</p></li>
<li><p><a class="reference external" href="http://onlinemanuals.txdot.gov/txdotmanuals/hyd/hydrograph_method.htm#JSGEGKGG">Texas HDM</a> Similar to above, with some probability and geographic corrections.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <span class="math notranslate nohighlight">\(CN\)</span> method using composite curve numbers is one of the recomended methods to consider in the Hardin Creek design/analysis project.  While by no means the bestest, its not bad for this application and relatively easy to parameterize and is built-in to HEC-HMS the design/analysis tool you will use.</p>
</div>
</section>
<section id="hec-hms-introduction">
<h2>HEC-HMS Introduction<a class="headerlink" href="#hec-hms-introduction" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Install HEC-HMS</p>
<ul>
<li><p>Verify Install when GUI loads</p></li>
</ul>
</li>
<li><p>Build a minimal model</p>
<ul>
<li><p>Project Create</p>
<ul>
<li><p>Basin Model</p></li>
<li><p>Meteorological Model</p></li>
<li><p>Control Specifications</p></li>
</ul>
</li>
<li><p>Simulation Run Manager</p>
<ul>
<li><p>Run Simulation</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Examine the output</p></li>
</ul>
<section id="hec-hms-project">
<h3>HEC-HMS Project<a class="headerlink" href="#hec-hms-project" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">project</span></code> is the structure to contain all the files related to some particular project.  Think of it as a model directory.</p>
<p>To create a new project simply select NEW from the file menu :</p>
<p><img alt="" src="../../_images/hms-newproject1.png" /></p>
<p>and then select units (SI or Imperial) and name the project:</p>
<p><img alt="" src="../../_images/hms-projectname1.png" /></p>
</section>
<section id="hec-hms-minimal-model">
<h3>HEC-HMS Minimal Model<a class="headerlink" href="#hec-hms-minimal-model" title="Link to this heading">#</a></h3>
<p>A minimal model consists of</p>
<ul class="simple">
<li><p>Basin Model</p></li>
<li><p>Meteorological Model</p></li>
<li><p>Control Specifications</p></li>
</ul>
<section id="basin-model-specification">
<h4>Basin Model Specification<a class="headerlink" href="#basin-model-specification" title="Link to this heading">#</a></h4>
<p>For this example we will use the Hardin Creek basin which is about 17 square miles.  For the example we will neglect the reservoirs and model the whole thing as a singe watershed.</p>
<p>To create a basin model, select Components from the menu then Basin Manager</p>
<p><img alt="" src="../../_images/hms-basinmanager1.png" /></p>
<p>As with most HMS creator dialogs, you next name the basin.</p>
<p><img alt="" src="../../_images/hms-basinname1.png" /></p>
</section>
<section id="meterological-model-specification">
<h4>Meterological Model Specification<a class="headerlink" href="#meterological-model-specification" title="Link to this heading">#</a></h4>
<p>To create a meterological model, select Components from the menu then Meterological Model Manager</p>
<p><img alt="" src="../../_images/hms-metmodel1.png" /></p>
<p>As with most HMS creator dialogs, you next name the model.</p>
<p><img alt="" src="../../_images/hms-metmodelname1.png" /></p>
</section>
<section id="control-model-specification">
<h4>Control Model Specification<a class="headerlink" href="#control-model-specification" title="Link to this heading">#</a></h4>
<p>The last component is the control specification model (with dates and times for the simulation period).  To create a control model, select Components from the menu then Control Model Manager</p>
<p><img alt="" src="../../_images/hms-controlspecs1.png" /></p>
<p>Then next name the model.</p>
<p><img alt="" src="../../_images/hms-controlspecsname1.png" /></p>
</section>
<section id="parameterizing-the-models">
<h4>Parameterizing the models<a class="headerlink" href="#parameterizing-the-models" title="Link to this heading">#</a></h4>
<p>Now that the pieces are built, we need to supply watershed and rainfall characteristics to the components for a useable model.  First we will simulate the entire watershed as a single basin, with CN=98, and all other watershed-based model components disabled (i.e. None)</p>
<p>First build the single <strong>basin</strong></p>
<p><img alt="" src="../../_images/hms-subbasinselect1.png" /></p>
<p>Then supply the inputs, first area and the CN model.  Disable all the remaining methods (choose –None–)</p>
<p><img alt="" src="../../_images/hms-nwebasins11.png" /></p>
<p>Then the CN parameters (same as in class)</p>
<p><img alt="" src="../../_images/hms-nwebasins21.png" /></p>
<p>Then supply the <strong>meterological</strong> model inputs, for the example we will use an SCS design storm, in HMS its called “hypothetical” storm.</p>
<p><img alt="" src="../../_images/hms-hypothetical11.png" /></p>
<p>Then be sure the correct basins are attached to the precipitation input signal</p>
<p><img alt="" src="../../_images/hms-hypothetical21.png" /></p>
<p>Next select the storm itself and supply model inputs</p>
<p><img alt="" src="../../_images/hms-hypothetical31.png" /></p>
<p>Now select the <strong>control</strong> specifications and provide needed time values (must be calendar/clock time, HMS does not easily handle elapsed times - you can use fake dates as needed)</p>
<p><img alt="" src="../../_images/hms-control11.png" /></p>
<p>Now one can select simulation run builder</p>
<p><img alt="" src="../../_images/hms-sim11.png" /></p>
<p><img alt="" src="../../_images/hms-sim21.png" /></p>
<p><img alt="" src="../../_images/hms-sim31.png" /></p>
<p><img alt="" src="../../_images/hms-sim41.png" /></p>
<p>Once these are complete select Finish and the run manager is loaded, next select the particular run to active the compute engine</p>
<p><img alt="" src="../../_images/hms-sim51.png" /></p>
<p>At this point it should be ready, this is a good time to save the project, then reload the saved project from the file menu. Now attempt to run the simulation by selecting the exploding raindrop!</p>
<p><img alt="" src="../../_images/hms-sim61.png" /></p>
<p>With some luck it works like</p>
<p><img alt="" src="../../_images/hms-sim71.png" /></p>
<p>With a suseccful run we can examine various output features - to complete this notebook section we will just use a default chart of runoff from the watershed.  Select the Results/Element_Graph to get:</p>
<p><img alt="" src="../../_images/hms-sim81.png" /></p>
<p>There are tutorials and examples in the User Manual for the software.</p>
</section>
</section>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>USDA National Engineering Handbook, Chapters 4,5, and 10.</p></li>
<li><p><a class="reference external" href="http://54.243.252.9/ce-3354-webroot/1-Lectures-2017/Lecture09.pdf">Cleveland, T. G. (2017) <em>Engineering Hydrology Notes to Accompany CE 3354 (Rational Equation, HEC-HMS)</em>, Department of Civil, Environmental, and Construction Engineering, Whitacre College of Engineering.</a></p></li>
<li><p>Gupta pp. 711-724</p></li>
<li><p><a class="reference external" href="http://54.243.252.9/ce-3354-webroot/3-Readings/HEC-HMS-Documentation/HEC-HMS_Users_Manual_3.5.pdf">HEC-HMS User Manual 3.5</a></p></li>
<li><p><a class="reference external" href="http://54.243.252.9/ce-3354-webroot/3-Readings/HEC-HMS-Documentation/HEC-HMS_Applications_Guide_March2008.pdf">HEC-HMS Applications Guide</a></p></li>
<li><p><a class="reference external" href="http://54.243.252.9/ce-3354-webroot/3-Readings/HEC-HMS-Documentation/HEC-HMS_QuickStart_Guide_3.5.pdf">HEC_HMS Quick Start Guide 3.5</a></p></li>
<li><p><a class="reference external" href="http://54.243.252.9/ce-3354-webroot/3-Readings/HEC-HMS-Documentation/HEC-HMS_Release_Notes_3.5.pdf">HEC-HMS Release Notes 3.5</a></p></li>
<li><p><a class="reference external" href="http://54.243.252.9/ce-3354-webroot/3-Readings/HEC-HMS-Documentation/HEC-HMS_TechnicalReferenceManual_(CPD-74B).pdf">HEC-HMS Technical Reference Manual</a></p></li>
<li><p><a class="reference external" href="http://54.243.252.9/ce-3354-webroot/3-Readings/NRCS-CN-TP149/methodforestimat149kent.pdf">NRCS TP-149 CN estimation</a></p></li>
<li><p><a class="reference external" href="http://54.243.252.9/ce-3354-webroot/ce3354book/lessons/lesson06/Lesson09ug.pdf">Cleveland, T. G. (2022) <em>Engineering Hydrology Notes to Accompany CE 3354 (Introduction to HEC-HMS)</em>, Department of Civil, Environmental, and Construction Engineering, Whitacre College of Engineering.</a></p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./lessons/lesson06"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="linearreservoir.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Linear Reservoir Model</p>
      </div>
    </a>
    <a class="right-next"
       href="nonlinreservoir.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Nonlinear Reservoir Model</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cn-as-a-linear-reservoir-model">CN as a linear reservoir model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hec-hms-introduction">HEC-HMS Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hec-hms-project">HEC-HMS Project</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hec-hms-minimal-model">HEC-HMS Minimal Model</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#basin-model-specification">Basin Model Specification</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#meterological-model-specification">Meterological Model Specification</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#control-model-specification">Control Model Specification</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#parameterizing-the-models">Parameterizing the models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Theodore G. Cleveland, Ph.D., P.E., M.ASCE, F.EWRI
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>